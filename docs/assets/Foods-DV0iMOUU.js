import{r as i,f as m,j as e}from"./index-ufQK7tdM.js";function x(a){const[o,t]=i.useState(1),[n,s]=i.useState(!1),l=i.useContext(m),r=d=>{const c=parseInt(d.target.value,10);t(isNaN(c)||c<1?1:c)},u=()=>{l.map(d=>{d.id===a.food.id&&(d.quantity=d.quantity-o)}),s(!0)};return e.jsx("div",{className:"food-order-container",children:e.jsxs("div",{className:"food-details",children:[e.jsx("h4",{children:a.food.name}),e.jsx("div",{className:"food-image-container",children:e.jsx("img",{src:`/images/${a.food.image}`,alt:a.food.name,className:"food-image"})}),e.jsx("p",{children:a.food.desc}),e.jsxs("p",{className:"food-price",children:[(a.food.price*o).toFixed(2),"€"]}),e.jsxs("div",{className:"quantity-controls",children:[e.jsx("label",{htmlFor:"quantity",children:"Cantidad:"}),e.jsx("input",{type:"number",id:"quantity",value:o,onChange:r,min:"1"})]}),e.jsxs("div",{className:"buttons-container",children:[e.jsx("button",{className:"order-button",onClick:u,disabled:n,children:n?"Pedido enviado":"Enviar pedido"}),e.jsx("button",{onClick:a.onReturnToMenu,className:"return-button",children:"Volver al menú"})]}),n&&e.jsx("p",{className:"order-confirmation",children:"Pedido enviado. Recibirá un SMS una vez esté listo para recoger."})]})})}function f(a){const[o,t]=i.useState(null),n=s=>{t(s)};return e.jsx(e.Fragment,{children:o?e.jsx(x,{food:o,onReturnToMenu:()=>t(null)}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Carta"}),e.jsx("h4",{className:"foodTitle",children:"Pulsa sobre cada producto para añadirlo"}),e.jsx("ul",{className:"ulFoods",children:a.foodItems.map(s=>e.jsxs("li",{className:"liFoods",onClick:()=>n(s),children:[e.jsx("img",{className:"foodImg",src:`/images/${s.image}`,alt:s.name}),e.jsxs("div",{className:"foodItem",children:[e.jsx("p",{className:"foodDesc",children:s.desc}),e.jsxs("p",{className:"foodPrice",children:[s.price,"$"]})]})]},s.id))})]})})}export{f as default};
